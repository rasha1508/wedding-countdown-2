<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Wedding Countdown Timer</title>
    <style>
      body {
        font-family: "Times New Roman", serif;
        padding: 20px;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        background: #fff0f5;
      }

      .countdown-widget {
        width: 700px;
        background-color: #f2d7d7;
        padding: 25px;
        border-radius: 15px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        text-align: center;
        border: 2px solid #ac757e;
      }

      h1 {
        font-size: 2.2em;
        color: #ac757e;
        margin-bottom: 20px;
      }

      input[type="date"] {
        font-family: "Times New Roman", serif;
        padding: 8px;
        border: 2px solid #ac757e;
        background-color: #fffaf0;
        border-radius: 8px;
        margin-bottom: 15px;
        width: 90%;
        font-size: 0.9em;
      }

      button {
        font-family: "Times New Roman", serif;
        padding: 10px 20px;
        color: #fffaf0;
        background-color: #ac757e;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        box-shadow: 2px 2px 2px black;
        font-size: 1em;
        margin-bottom: 10px;
        transition: all 0.3s ease;
      }

      button:hover {
        background-color: #fffaf0;
        color: #ac757e;
      }

      #change-date {
        display: none;
        background-color: transparent;
        color: #ac757e;
        border: 1px dashed #ac757e;
        font-size: 0.8em;
        cursor: pointer;
        margin-top: 10px;
        transition: all 0.3s ease;
      }

      #change-date:hover {
        color: #fffaf0;
        background-color: #ac757e;
        border: 1px solid #ac757e;
      }

      .countdown-result {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-top: 20px;
        flex-wrap: wrap;
        font-size: 1.5em;
      }

      .time-box {
        background: #fffaf0;
        color: #ac757e;
        padding: 15px 20px;
        border-radius: 12px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        min-width: 100px;
        transition: all 0.5s ease;
      }

      .label {
        display: block;
        font-size: 0.7em;
        color: #ac757e;
        margin-top: 5px;
      }

      /* Animate numbers */
      .number {
        display: inline-block;
        transition: transform 0.5s ease;
      }
    </style>
  </head>

  <body>
    <div class="countdown-widget">
      <h1>Wedding Countdown</h1>
      <input type="date" id="date-input" />
      <button id="start-countdown">Start Countdown</button>
      <div class="countdown-result" id="countdown"></div>
      <button id="change-date">Change Date</button>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const dateInput = document.getElementById("date-input");
        const countdownResult = document.getElementById("countdown");
        const startBtn = document.getElementById("start-countdown");
        const changeBtn = document.getElementById("change-date");
        let updateCountdown;

        const savedDate = localStorage.getItem("weddingDate");

        if (savedDate) {
          dateInput.value = savedDate;
          startCountdown();
          hideInputAndButton();
        }

        startBtn.addEventListener("click", function () {
          const enteredDate = dateInput.value;
          if (!enteredDate) {
            alert("Please select a valid date.");
            return;
          }

          localStorage.setItem("weddingDate", enteredDate);
          startCountdown();
          hideInputAndButton();
        });

        changeBtn.addEventListener("click", function () {
          dateInput.style.display = "block";
          startBtn.style.display = "inline-block";
          changeBtn.style.display = "none";
          countdownResult.innerHTML = "";
          clearInterval(updateCountdown);
        });

        function hideInputAndButton() {
          dateInput.style.display = "none";
          startBtn.style.display = "none";
          changeBtn.style.display = "inline-block";
        }

        function startCountdown() {
          if (updateCountdown) clearInterval(updateCountdown);

          const weddingDate = new Date(dateInput.value).setHours(0, 0, 0, 0);
          const now = new Date().setHours(0, 0, 0, 0);

          if (weddingDate <= now) {
            countdownResult.innerHTML = "The wedding date has already passed!";
            countdownResult.style.display = "flex";
            return;
          }

          updateCountdown = setInterval(function () {
            const currentTime = new Date().getTime();
            const timeDifference = weddingDate - currentTime;

            if (timeDifference <= 0) {
              clearInterval(updateCountdown);
              countdownResult.innerHTML =
                '<div class="time-box">ðŸŽ‰ Today is your wedding! ðŸŽ‰</div>';
              countdownResult.style.display = "flex";
              return;
            }

            const months = Math.floor(
              timeDifference / (1000 * 60 * 60 * 24 * 30)
            );
            const days = Math.floor(
              (timeDifference % (1000 * 60 * 60 * 24 * 30)) /
                (1000 * 60 * 60 * 24)
            );
            const hours = Math.floor(
              (timeDifference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
            );
            const minutes = Math.floor(
              (timeDifference % (1000 * 60 * 60)) / (1000 * 60)
            );
            const seconds = Math.floor((timeDifference % (1000 * 60)) / 1000);

            // Update countdown with animation
            countdownResult.innerHTML = `
              <div class="time-box"><span class="number">${months}</span><span class="label">Months</span></div>
              <div class="time-box"><span class="number">${days}</span><span class="label">Days</span></div>
              <div class="time-box"><span class="number">${hours}</span><span class="label">Hours</span></div>
              <div class="time-box"><span class="number">${minutes}</span><span class="label">Minutes</span></div>
              <div class="time-box"><span class="number">${seconds}</span><span class="label">Seconds</span></div>
            `;

            // Add subtle pop animation
            const numbers = countdownResult.querySelectorAll(".number");
            numbers.forEach((num) => {
              num.style.transform = "scale(1.2)";
              setTimeout(() => (num.style.transform = "scale(1)"), 300);
            });

            countdownResult.style.display = "flex";
          }, 1000);
        }
      });
    </script>
  </body>
</html>


